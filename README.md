# EdenorWarnings

**EdenorWarnings** — плагин на Kotlin для Minecraft (Paper/Folia), позволяющий отправлять пользователям шаблонные предупреждения. Отлично подходит для модерирования, администрирования и упрощает работу хелперов, модераторов и администраторов.

---

##  Особенности

- Простая интеграция с Paper и Folia.
- Поддержка шаблонов предупреждений через `TemplateRegistry`.
- Автодополнение при вводе команды в чат: при вводе `/ew send <имя игрока> <шаблон>` — предлагаются имена существующих шаблонов.
- Поддержка `api-version`**1.21.8** (включая Folia).
- Гибкая система разрешений:
  - `ew.helper` — базовый набор оповещаний для хелперов.
  - `ew.moderator` — модераторские шаблоны.
  - `ew.administrator` — админские шаблоны.

---

##  Быстрый старт

1. **Сборка** плагина через Gradle:
   ```bash
   chmod +x gradlew
   ./gradlew build
   ```
2. **Установка**:
   - Скопируйте `.jar` из `build/libs/` в папку `plugins/` вашего сервера.
3. **Настройка** (plugin.yml):
   ```yaml
   name: EdenorWarnings
   version: '1.0.0'
   main: ru.edenor.edenorWarnings.EdenorWarnings
   api-version: '1.21.8'
   folia-supported: true

   permissions:
     ew.helper:
       description: Базовый набор оповещаний для хелпера
     ew.moderator:
       description: Набор оповещаний для модераторов
     ew.administrator:
       description: Набор оповещаний для администраторов
   ```
4. **Перезапустите** ваш сервер.

---

##  Использование

- **Список шаблонов**:
  ```
  /ew list
  ```
- **Отправить шаблон игроку**:
  ```
  /ew send <имя игрока> <имя шаблона>
  ```
  — Игрок получает предупреждение по шаблону, а отправитель — подтверждение или сообщение об ошибке если шаблон не найден или игрок офлайн.

---

##  Как это работает

- `WarningNotificationsArgumentType` — кастомный `ArgumentType`, который умеет:
  - Предоставлять автодополнение имен шаблонов.
  - Валидировать существование шаблона, выбрасывая понятное исключение.
- Команда `ew` зарегистрирована через Brigadier и поддерживает вложенную структуру:
  - `list` — выводит список шаблонов.
  - `send` — аргумент «имя игрока», затем аргумент «шаблон» с автокомплитом, после чего вызывается `sendWarning(...)`.

---

##  Разработка

1. Клонировать репозиторий:
   ```bash
   git clone https://github.com/Totilak/EdenorWarnings.git
   cd EdenorWarnings
   ```
2. Собрать при помощи Gradle:
   ```bash
   ./gradlew build
   ```
3. Получить jar-файл в `build/libs/`.

---

##  Лицензия

```text
Свободная лицензия.
```

---

##  Участники разработки

- **Totilak** — автор и идея.
- **WesOrangePower** — вклад в качестве контрибьютора.

---

##  Релизы

Актуальная версия: **v1.0.2**
